## 灰度变换与空间滤波

*** 空间域 *** 指的是图像平面的本身， 这种图像处理指的是直接操作图像中的像素。
*** 变换域处理 *** 指的是先将图片通过变换到变换域，然后在变换域处理，后面再通过反变换回空间域中。

空间域的处理主要有两种：
1. 灰度变换
2. 空间滤波

灰度变化对图像的单个像素进行操作，主要包括对比度和阀值的处理。空间滤波主要是涉及性能改善等操作。

空间处理可由以下公式表示：
   $$ g\left ( x,y \right ) = T\left [f \left(x,y \right) \right] $$
   
   $$f \left(x,y \right) $$ 指的是原图像， $$g\left ( x,y \right ) $$ 指的是处理后的图片，$$ T $$指的是在(x, y)领域的算子。领域通常是中心在（x, y）的矩形。通常也将(x, y)称为锚点。
  其中在领域与预定义的操作一起称为空间滤波器（也称为空间掩膜，核、模板、窗口）。
在《数字图像处理·第三版》中P63中有具体的描述。
  最小的领域大小也是1*1， 这种情况仅取决于（x,y）,这就是灰度变换。
  		$$s= T\left(r\right) $$

### 常见的灰度变换
1. 对比度拉伸
 低于k的r值被压缩到一个更窄的s内，高于k做相反的操作。使得低于k更暗，高于k,更加亮。
在opencv中，会用到LUT 色彩表。
2. 阀值处理函数
	可以通过相应的处理得到二值图像。

#### 一些基本的灰度变换函数

1. 图片反转
灰度级别在[0, L-1]图片进行反转
               s = L - 1 - r
特别适合用于处理嵌入图像暗色区域中白色或者灰色区域
在opencv 中接口为 bitwise_not()

2. 对数变换
    通用形式为：
         $$ s = c\log \left ( 1+r \right ) $$
    c 为常数， r >=0
该变换将输入中范围较窄的低灰度值映射为输出范围较宽的灰度值，反之亦然。
对数函数可以完成图像灰度级的扩展/压缩。 
大多数傅里叶频谱都经过对数变换进行过标定。

